"use strict";(self["webpackChunkquasarteste2"]=self["webpackChunkquasarteste2"]||[]).push([[146],{2146:(l,a,e)=>{e.r(a),e.d(a,{default:()=>_l});var o=e(3673),r=e(2323);const t=l=>((0,o.dD)("data-v-315ef73c"),l=l(),(0,o.Cn)(),l),n={class:"q-pa-md",style:{"max-width":"400px"}},u=t((()=>(0,o._)("h5",{class:"q-mt-sm"},"Entrada de veículo",-1))),i=t((()=>(0,o._)("div",{class:"text-h6"},"Identificação do veículo",-1))),c=t((()=>(0,o._)("br",null,null,-1))),d=t((()=>(0,o._)("br",null,null,-1))),s=t((()=>(0,o._)("br",null,null,-1))),m=t((()=>(0,o._)("div",{class:"text-h6"},"Dados do veículo",-1))),p=t((()=>(0,o._)("br",null,null,-1))),_={class:"q-gutter-sm"},v=t((()=>(0,o._)("br",null,null,-1))),g=t((()=>(0,o._)("br",null,null,-1))),b=t((()=>(0,o._)("br",null,null,-1))),f=t((()=>(0,o._)("br",null,null,-1))),y=t((()=>(0,o._)("div",{class:"text-h6"},"Dados do proprietário",-1))),V=t((()=>(0,o._)("br",null,null,-1))),w=t((()=>(0,o._)("br",null,null,-1))),W=t((()=>(0,o._)("br",null,null,-1))),h=t((()=>(0,o._)("br",null,null,-1))),D=t((()=>(0,o._)("br",null,null,-1))),k=t((()=>(0,o._)("div",{class:"text-h6"},"Valor a pagar",-1))),U=t((()=>(0,o._)("br",null,null,-1))),q=t((()=>(0,o._)("br",null,null,-1))),C={class:"col-6"},R=t((()=>(0,o._)("div",{class:"text-h6"},"Veículo registrado!",-1))),Z={class:"dialog_save_ok"},S=t((()=>(0,o._)("b",null,"Entrada:",-1))),x=t((()=>(0,o._)("br",null,null,-1))),Q=t((()=>(0,o._)("br",null,null,-1))),O=t((()=>(0,o._)("b",null,"Placa:",-1))),F=t((()=>(0,o._)("br",null,null,-1))),I=t((()=>(0,o._)("b",null,"Ticket:",-1)));function H(l,a,e,t,H,B){const P=(0,o.up)("q-tab"),T=(0,o.up)("q-tabs"),G=(0,o.up)("q-separator"),K=(0,o.up)("q-input"),M=(0,o.up)("q-btn"),N=(0,o.up)("q-card-section"),X=(0,o.up)("q-tab-panel"),A=(0,o.up)("q-radio"),E=(0,o.up)("q-card"),j=(0,o.up)("QCurrencyInput"),z=(0,o.up)("q-tab-panels"),L=(0,o.up)("q-form"),Y=(0,o.up)("q-card-actions"),$=(0,o.up)("q-dialog"),J=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[u,(0,o.Wm)(L,{class:"q-gutter-md",onSubmit:t.insert,onReset:t.onReset},{default:(0,o.w5)((()=>{var l;return[(0,o.Wm)(E,null,{default:(0,o.w5)((()=>[(0,o.Wm)(T,{modelValue:t.tab,"onUpdate:modelValue":a[0]||(a[0]=l=>t.tab=l),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{name:"placa",label:"Placa"}),(0,o.Wm)(P,{name:"info",label:"Info"}),(0,o.Wm)(P,{name:"owner",label:"Dono"}),(0,o.Wm)(P,{name:"valor",label:"Valor"})])),_:1},8,["modelValue"]),(0,o.Wm)(G),(0,o.Wm)(z,{modelValue:t.tab,"onUpdate:modelValue":a[18]||(a[18]=l=>t.tab=l),animated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(X,{name:"placa"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[i,c,(0,o.Wm)(K,{class:"font1",modelValue:t.car.in_timestamp,"onUpdate:modelValue":a[1]||(a[1]=l=>t.car.in_timestamp=l),filled:"",label:"Entrada",readonly:""},null,8,["modelValue"]),d,(0,o.Wm)(K,{mask:"XXXXXXX",class:"font2",modelValue:t.car.placa,"onUpdate:modelValue":a[2]||(a[2]=l=>t.car.placa=l),maxlength:"7",filled:"",label:"Placa",autofocus:"",debounce:"1000",rules:[l=>!!l||"Defina a placa",l=>7==l.length||"7 dígitos"]},null,8,["modelValue","rules"]),s,(0,o.Wm)(M,{"_v-if":"car.placa?.length > 4  && car.valor_troco >= 0",label:">>>",type:"submit",color:"primary"})])),_:1})])),_:1}),(0,o.Wm)(X,{name:"info"},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[m,p,(0,o._)("div",_,[(0,o.Wm)(A,{modelValue:t.car.type,"onUpdate:modelValue":a[3]||(a[3]=l=>t.car.type=l),val:"carro",label:"Carro"},null,8,["modelValue"]),(0,o.Wm)(A,{modelValue:t.car.type,"onUpdate:modelValue":a[4]||(a[4]=l=>t.car.type=l),val:"moto",label:"Moto"},null,8,["modelValue"])]),v,(0,o.Wm)(K,{class:"font2",modelValue:t.car.modelo,"onUpdate:modelValue":a[5]||(a[5]=l=>t.car.modelo=l),filled:"",label:"Modelo"},null,8,["modelValue"]),g,(0,o.Wm)(K,{class:"font2",modelValue:t.car.cor,"onUpdate:modelValue":a[6]||(a[6]=l=>t.car.cor=l),filled:"",label:"Cor"},null,8,["modelValue"]),b,(0,o.Wm)(K,{class:"font2",modelValue:t.car.obs,"onUpdate:modelValue":a[7]||(a[7]=l=>t.car.obs=l),filled:"",label:"Obs"},null,8,["modelValue"]),f,(0,o.Wm)(M,{"_v-if":"car.placa?.length > 4  && car.valor_troco >= 0",label:">>>",type:"submit",color:"primary"})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(X,{name:"owner"},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{flat:"",bordered:"",class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[y,V,(0,o.Wm)(K,{class:"font2",modelValue:t.car.owner.name,"onUpdate:modelValue":a[8]||(a[8]=l=>t.car.owner.name=l),filled:"",label:"Nome do responsável"},null,8,["modelValue"]),w,(0,o.Wm)(K,{class:"font2",modelValue:t.car.owner.contato,"onUpdate:modelValue":a[9]||(a[9]=l=>t.car.owner.contato=l),filled:"",label:"Contato"},null,8,["modelValue"]),W,(0,o.Wm)(K,{class:"font2",modelValue:t.car.owner.hostel,"onUpdate:modelValue":a[10]||(a[10]=l=>t.car.owner.hostel=l),filled:"",label:"Pousada"},null,8,["modelValue"]),h,(0,o.Wm)(K,{class:"font2",modelValue:t.car.owner.obs,"onUpdate:modelValue":a[11]||(a[11]=l=>t.car.owner.obs=l),filled:"",label:"Obs"},null,8,["modelValue"]),D,(0,o.Wm)(M,{"_v-if":"car.placa?.length > 4  && car.valor_troco >= 0",label:">>>",type:"submit",color:"primary"})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(X,{name:"valor"},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[k,U,(0,o.Wm)(K,{class:"font2",modelValue:t.car.n_diarias,"onUpdate:modelValue":a[12]||(a[12]=l=>t.car.n_diarias=l),filled:"",label:"Diárias"},null,8,["modelValue"]),q,(0,o.Wm)(j,{modelValue:t.car.valor_diaria,"onUpdate:modelValue":a[13]||(a[13]=l=>t.car.valor_diaria=l),label:"Valor diária",key:t.componentKey_valor_diaria,options:{locale:"pt-BR",currency:"BRL",currencyDisplay:"symbol",valueRange:void 0,precision:void 0,hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,hideNegligibleDecimalDigitsOnFocus:!1,autoDecimalDigits:!0,exportValueAsInteger:!1,autoSign:!0,useGrouping:!0}},null,8,["modelValue"]),(0,o.Wm)(j,{key:t.componentKey,modelValue:t.car.valor_total,"onUpdate:modelValue":a[14]||(a[14]=l=>t.car.valor_total=l),label:"Total",readonly:"",options:{locale:"pt-BR",currency:"BRL",currencyDisplay:"symbol",valueRange:void 0,precision:void 0,hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,hideNegligibleDecimalDigitsOnFocus:!1,autoDecimalDigits:!0,exportValueAsInteger:!1,autoSign:!0,useGrouping:!0}},null,8,["modelValue"]),(0,o.Wm)(j,{key:t.componentKey_valor_pago,modelValue:t.car.valor_pago,"onUpdate:modelValue":a[15]||(a[15]=l=>t.car.valor_pago=l),label:"Valor pago",options:{locale:"pt-BR",currency:"BRL",currencyDisplay:"symbol",valueRange:void 0,precision:void 0,hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,hideNegligibleDecimalDigitsOnFocus:!1,autoDecimalDigits:!0,exportValueAsInteger:!1,autoSign:!0,useGrouping:!0}},null,8,["modelValue"]),(0,o.Wm)(j,{key:t.componentKey,modelValue:t.car.valor_troco,"onUpdate:modelValue":a[16]||(a[16]=l=>t.car.valor_troco=l),label:"Troco",readonly:"",options:{locale:"pt-BR",currency:"BRL",currencyDisplay:"symbol",valueRange:void 0,precision:void 0,hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,hideNegligibleDecimalDigitsOnFocus:!1,autoDecimalDigits:!0,exportValueAsInteger:!1,autoSign:!0,useGrouping:!0}},null,8,["modelValue"]),(0,o.Wm)(M,{"_v-if":"car.placa?.length > 4  && car.valor_troco >= 0",label:">>>",type:"submit",color:"primary"})])),_:1})])),_:1}),(0,o.Wm)(E,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o.Wm)(K,{class:"font2",modelValue:t.car.cliente_email,"onUpdate:modelValue":a[17]||(a[17]=l=>t.car.cliente_email=l),filled:"",label:"Email do comprovante"},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o._)("div",null,[(null===(l=t.car.placa)||void 0===l?void 0:l.length)>4&&t.car.valor_troco>=0?((0,o.wg)(),(0,o.j4)(M,{key:0,label:"Registrar",type:"submit",color:"primary"})):(0,o.kq)("",!0),(0,o.Wm)(M,{label:"Cancelar",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]})),_:1},8,["onSubmit","onReset"])]),(0,o.Wm)($,{modelValue:t.dialog_save_ok,"onUpdate:modelValue":a[19]||(a[19]=l=>t.dialog_save_ok=l)},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{style:{width:"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[R])),_:1}),(0,o.Wm)(N,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o._)("span",Z,[S,x,(0,o.Uk)((0,r.zw)(t.registrada.timestamp),1),Q,O,(0,o.Uk)(" "+(0,r.zw)(t.registrada.placa),1),F,I,(0,o.Uk)(" "+(0,r.zw)(t.registrada.ticket),1)])])),_:1}),(0,o.Wm)(Y,{align:"right",class:"bg-white text-teal"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(M,{flat:"",label:"OK"},null,512),[[J]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var B=e(8825),P=(e(1082),e(1959)),T=e(9582),G=e(2052);e(8064);function K(l,a,e,r,t,n){const u=(0,o.up)("q-input");return(0,o.wg)(),(0,o.j4)(u,{ref:"inputRef",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=l=>r.value=l),outlined:"",label:e.label,"error-message":r.errorMessage,error:!!r.errorMessage},null,8,["modelValue","label","error-message","error"])}var M=e(389),N=e(3497);const X={name:"QCurrencyInput",props:{label:String,modelValue:Number,options:Object},setup(l){const{inputRef:a}=(0,M.Er)(l.options),e=l=>!0,{errorMessage:o,value:r}=(0,N.U$)("amount",e);return{inputRef:a,errorMessage:o,value:r}}};var A=e(4260),E=e(4842),j=e(7518),z=e.n(j);const L=(0,A.Z)(X,[["render",K]]),Y=L;z()(X,"components",{QInput:E.Z});const $={components:{QCurrencyInput:Y},setup(){var l=G.Z.firestore();const a=(0,T.tv)(),e=(0,P.iH)(40),r=(0,P.iH)(0),t=(0,P.iH)(!1),n=(0,P.iH)({}),u=(0,P.iH)(0),i=(0,P.iH)(0),c=(0,P.iH)(0),d=(0,P.iH)("Dinheiro"),s=["Dinheiro","Cartão de débito","Cartão de crédito","Pix","Outros"],m=(G.Z.auth().onAuthStateChanged((function(l){l?console.log("current_user:",l):(alert("you must be logged in to view this. redirecting to the home page"),a.push("/"))})),(0,B.Z)(),{masked:!1,prefix:"",suffix:"",thousands:".",decimal:",",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0}),p=(0,P.iH)({in_timestamp:null,placa:null,modelo:null,type:null,cor:null,obs:null,n_diarias:1,valor_diaria:30,valor_total:35,valor_pago:0,valor_troco:0,cliente_email:null,owner:{}});const _=()=>{const l=new Date,a=l.getDate()+"-"+(l.getMonth()+1)+"-"+l.getFullYear(),e=l.getHours()+":"+l.getMinutes()+":"+l.getSeconds(),o=e+"  "+a;p.value.in_timestamp=o};(0,o.YP)((()=>p.value.valor_diaria),(l=>{console.log(12,l)})),(0,o.m0)((()=>{u.value+=1,p.value.valor_total=p.value.n_diarias*p.value.valor_diaria,console.log(p.value.n_diarias,p.value.valor_diaria,p.value.valor_total),p.value.valor_troco=p.value.valor_pago-p.value.valor_total}));const v=async()=>{p.value={in_timestamp:null,placa:null,modelo:null,cor:null,obs:null,n_diarias:1,valor_diaria:30,valor_total:0,valor_pago:0,valor_troco:0,out_timestamp:null},await(0,o.Y3)(),p.value.valor_diaria=30,u.value+=1,i.value+=1,c.value+=1},g=async()=>{const a=l.collection("carros"),e=await a.get(),o=e.size;console.log("count:",o),l.collection("carros").add({domain:"teste",in_timestamp:(new Date).getTime(),modelo:p.value.modelo,cor:p.value.cor,placa:p.value.placa,obs:p.value.obs,n_diarias:p.value.n_diarias,valor_diaria:p.value.valor_diaria,valor_total:p.value.valor_total,valor_pago:p.value.valor_pago,valor_troco:p.value.valor_troco,out_timestamp:null,ticket:o.toString()}).then((l=>{console.log("Document written with ID: ",l.id)})).catch((l=>{console.error("Error adding document: ",l)})),n.value={timestamp:p.value.in_timestamp,placa:p.value.placa,ticket:o},v(),t.value=!0};return setInterval(_,1e3),{tab:(0,P.iH)("placa"),dialog_save_ok:t,registrada:n,ticket:r,componentKey:u,componentKey_valor_pago:i,componentKey_valor_diaria:c,insert:g,car:p,onReset:v,config:m,valor_diaria:e,forma_de_pagamento:d,forma_de_pagamento_options:s}}};var J=e(8689),ll=e(151),al=e(7547),el=e(3269),ol=e(5869),rl=e(5906),tl=e(6602),nl=e(5589),ul=e(8240),il=e(7991),cl=e(8886),dl=e(6778),sl=e(9367),ml=e(677);const pl=(0,A.Z)($,[["render",H],["__scopeId","data-v-315ef73c"]]),_l=pl;z()($,"components",{QForm:J.Z,QCard:ll.Z,QTabs:al.Z,QTab:el.Z,QSeparator:ol.Z,QTabPanels:rl.Z,QTabPanel:tl.Z,QCardSection:nl.Z,QInput:E.Z,QBtn:ul.Z,QRadio:il.Z,QToggle:cl.Z,QDialog:dl.Z,QCardActions:sl.Z}),z()($,"directives",{ClosePopup:ml.Z})}}]);